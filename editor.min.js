!function(t,i,e){function o(e,n){if(!i[e]){if(!t[e]){var h=typeof require=="function"&&require;if(!n&&h)return h(e,!0);if(s)return s(e,!0);throw new Error("Cannot find module '"+e+"'")}var c=i[e]={exports:{}};t[e][0].call(c.exports,function(i){var s=t[e][1][i];return o(s?s:i)},c,c.exports)}return i[e].exports}var s=typeof require=="function"&&require;for(var n=0;n<e.length;n++)o(e[n]);return o}({1:[function(t,i,e){var o=t("./libs/canvasStarter"),s=t("./libs/coordinateNorm"),n=t("./libs/blocksReader"),h=t("./libs/blocksPainter"),c=t("./libs/canvasPositionDetector");var a=document.getElementById("level-editor"),r=new o(a),l=new h(a,new s,new c(a),{blockWidth:10,blockHeight:10});r.drawLines(10,10);l.start()},{"./libs/blocksPainter":2,"./libs/blocksReader":3,"./libs/canvasPositionDetector":4,"./libs/canvasStarter":5,"./libs/coordinateNorm":6}],2:[function(t,i,e){"use strict";i.exports=o;function o(t,i,e,o){this.canvas=t;this.ctx=t.getContext("2d");this.cm=i;this.mp=e;this.blockWidth=o.blockWidth||10;this.blockHeight=o.blockHeight||10;this.isPainting=false;this.tempBlock=undefined}o.prototype.start=function(){this.canvas.addEventListener("mousedown",this.onMouseDown.bind(this));this.canvas.addEventListener("mousemove",this.onMouseMove.bind(this));this.canvas.addEventListener("mouseup",this.onMouseUp.bind(this))};o.prototype.onMouseDown=function(t){this.isPainting=true;var i=this.mp.getMousePosition(t);this.paintBlock(this.cm.normalize(i,this.blockWidth,this.blockHeight))};o.prototype.onMouseMove=function(t){var i=this.mp.getMousePosition(t),e=this.cm.normalize(i,this.blockWidth,this.blockHeight);if(this.isPainting){this.paintBlock(e)}else{if(this.tempBlock){this.ctx.clearRect(this.tempBlock.x,this.tempBlock.y,this.tempBlock.width,this.tempBlock.height)}this.tempBlock={x:e.x,y:e.y,width:this.blockWidth,height:this.blockHeight};this.ctx.fillRect(this.tempBlock.x,this.tempBlock.y,this.tempBlock.width,this.tempBlock.height)}};o.prototype.onMouseUp=function(t){this.isPainting=false;console.log("yoo")};o.prototype.paintBlock=function(t){this.ctx.fillStyle="#000000";this.ctx.fillRect(t.x,t.y,this.blockWidth,this.blockHeight)}},{}],3:[function(t,i,e){i.exports=o;function o(t){this.blockWidth=t.blockWidth;this.blockHeight=t.blockHeight;this.detected=[]}o.prototype.read=function(t){var i=[],e,o=t.getContext("2d"),s=t.width;for(var n=0,h=t.height;n<h;n+=this.blockHeight){this.parseLine(o.getImageData(0,n,s,1).data,n/this.blockHeight)}return i};o.prototype.parseLine=function(t,i){var e=0,o=t.length;while(e<o){if(t[e]===0&&t[e+1]===0&&t[e+2]===0){this.detected.push({x:e/4,y:i*this.blockHeight,width:this.blockWidth,height:this.blockHeight})}e+=4*this.blockWidth}}},{}],4:[function(t,i,e){"use strict";i.exports=o;function o(t){this.canvas=t;this.calculateCanvasPosition()}o.prototype.calculateCanvasPosition=function(){if(document.defaultView&&document.defaultView.getComputedStyle){this.stylePaddingLeft=parseInt(document.defaultView.getComputedStyle(this.canvas,null)["paddingLeft"],10)||0;this.stylePaddingTop=parseInt(document.defaultView.getComputedStyle(this.canvas,null)["paddingTop"],10)||0;this.styleBorderLeft=parseInt(document.defaultView.getComputedStyle(this.canvas,null)["borderLeftWidth"],10)||0;this.styleBorderTop=parseInt(document.defaultView.getComputedStyle(this.canvas,null)["borderTopWidth"],10)||0}var t=document.body.parentNode;this.htmlTop=t.offsetTop;this.htmlLeft=t.offsetLeft};o.prototype.getMousePosition=function(t){var i=0,e=0,o,s,n=this.canvas;if(n.offsetParent!==undefined){do{i+=n.offsetLeft;e+=n.offsetTop}while(n=n.offsetParent)}i+=this.stylePaddingLeft+this.styleBorderLeft+this.htmlLeft;e+=this.stylePaddingTop+this.styleBorderTop+this.htmlTop;o=t.pageX-i;s=t.pageY-e;return{x:o,y:s}}},{}],5:[function(t,i,e){i.exports=o;function o(t){this.canvas=t;this.ctx=t.getContext("2d")}o.prototype.drawLines=function(t,i){this.ctx.strokeStyle="#E74C3C";this.ctx.beginPath();for(var e=t,o=this.canvas.width;e<o;e+=t){this.ctx.moveTo(e,0);this.ctx.lineTo(e,this.canvas.height)}for(e=i,o=this.canvas.height;e<o;e+=i){this.ctx.moveTo(0,e);this.ctx.lineTo(this.canvas.width,e)}this.ctx.stroke()}},{}],6:[function(t,i,e){i.exports=o;function o(){}o.prototype.normalize=function(t,i,e){return{x:t.x-t.x%i,y:t.y-t.y%e}}},{}]},{},[1]);